<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Details</title>
    <!-- <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'> -->
    <link rel="stylesheet" href="<%= basePath %>/assets/icons/boxicons/css/boxicons.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <!-- <link rel="stylesheet" href="styles.css"> -->
    <style>

@import url('https://fonts.googleapis.com/css2?family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap');
        /* Additional CSS styles specific to details.ejs */
        body {
            background-color: #F6F5FA;  
            font-family: Urbanist, sans-serif;
            height: 100vh; /* Ensure it fits the screen */
        }

@media only screen 
  and (min-device-width: 768px) 
  and (max-device-width: 1024px) 
  and (orientation: portrait) {
    .parentrow {
        display: grid;
        justify-content: center;
    }

    .spacer {
        display: none;
    }

    .left {
        display: none;
    }
    .user-details-container {
        margin: 0px;
    }
  }

  @media only screen 
  and (min-device-width: 768px) 
  and (max-device-width: 1024px) 
  and (orientation: landscape) {

    .parentrow {
        display: grid;
        justify-content: center;
        align-content: center;
    }
    .spacer {
        display: none;
    }

    .left {
        display: none;
    }
    .user-details-container {
        margin: 0px;
    }

  }


/* For Arabic (RTL) */
html[dir="rtl"] .thankyouText,
html[dir="rtl"] .thankyouText1 {
    text-align: right;
}

html[dir="rtl"] .thankyouText h2,
html[dir="rtl"] .thankyouText1 h2 {
    text-align: right;
}

html[dir="rtl"] .text2,
html[dir="rtl"] #text3 {
    text-align: right;
}

/* For English (LTR) */
html[dir="ltr"] .thankyouText,
html[dir="ltr"] .thankyouText1 {
    text-align: left;
}

html[dir="ltr"] .thankyouText h2,
html[dir="ltr"] .thankyouText1 h2 {
    text-align: left;
}

html[dir="ltr"] .text2,
html[dir="ltr"] #text3 {
    text-align: left;
}

.rtl-text {
    direction: rtl;
    text-align: right;
}

.ltr-text {
    direction: ltr;
    text-align: left;
}

        .user-details-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            margin-left: 10%;
            margin-top: 1%;
            background-color: #F6F5FA;
            border-radius: 8px;
            /* box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); */
        }

        h2 {
            color: #333333;
            text-align: center;
            margin-bottom: 15px;
        }

        p {
            font-size: 16px;
            margin-bottom: 10px;
            color: #333333;
        }

        .survey-button {
            display: inline-block;
            padding: 5px 10px;
            background-color: #007bff;
            color: #ffffff;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
        }

        .survey-button:hover {
            background-color: #0056b3;
        }

        .survey-container p span {
            flex: 1;
        }

        .survey-container p {
            display: flex;
            align-items: flex-start;
            margin-bottom: 30px;
            white-space: nowrap;
        }

        .survey-arrow {
            margin: 0 5px;
            flex-shrink: 0;
        }

        .survey-container p {
            display: flex;
            align-items: left;
            justify-content: space-between;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin: 5px 0;
        }

        /* Add a margin-right to create space between the button and the arrow */
        .survey-container p .survey-button {
            margin-right: 10px;
        }

        /* Adjust the flex property to control the alignment of the arrow */
        .survey-container p .survey-arrow {
            flex-shrink: 0;
        }

        .view-history-button {
            display: inline-block;
            padding: 10px 20px;
            background-color: #28a745;
            color: #ffffff;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            text-align: center;
            text-decoration: none;
            margin-top: 20px;
        }

        .view-history-button:hover {
            background-color: #218838;
        }

        .ltr {
            direction: ltr;
        }

        .rtl {
            direction: rtl;
        }

        .legend {
            margin-top: 40px;
            text-align: left;
        }

        .legend h2 {
            margin-bottom: 10px;
            font-weight: 400;
        }

        .legend ul {
            list-style-type: none;
            padding: 0;
            font-size: 16px;
        }

        .legend li {
            margin-bottom: 5px;
        }

        .parentrow {
            display: flex;
            height: 100vh;
        }

        .parentcolumn {
            float: left;
            padding: 30px;
        }

        .left {
            width: 20%;
            /* background-color: #fff; */
        } 

        .right {
            width: 80%;
            padding: 100px;
        }

        .row {
            display: flex;
            box-sizing: border-box;
        }

        .column {
            flex: 1;
            text-align: left;
            display: grid;
            padding: 30px;
            background-color: white;
            justify-content: center;
            position: relative;
        }

        hr.spacer {
            border: 0px dashed;
            padding-bottom: 30px;
        }

        @media (max-width: 600px) {
            body {
            background-color: #F6F5FA;
            padding: 0;
            margin: 0;
            height: 100vh; /* Ensure it fits the screen */
            overflow: hidden;
        }

        .user-details-container {
            width: 100%;
            margin: 0;
            padding: 5px; /* Reduced padding */
        }

        h2 {
            font-size: 16px;
            padding-left: 5px;
            margin-bottom: 5px; /* Minimized spacing */
        }

        p {
            font-size: 12px;
            margin-bottom: 5px;
            padding-left: 5px;
            margin-top: 0px;
        }

        .thankyouText, .thankyouText1 {
            font-size: 12px;
            padding: 8px; /* Reduced padding */
            margin-bottom: 10px;
        }

        .text2, #text3 {
            font-size: 12px;
            padding-left: 5px;
        }

        .btn_nxt p {
            font-size: 12px;
            padding-top: 5px; /* Reduced padding for more compact layout */
        }

        .nextbtn {
            font-size: 12px;
            width: 100%;
            height: 35px;
            padding: 8px;
            margin-top: 10px; /* Added slight margin for spacing */
        }
        .logo-container {
            margin: 0px;
        }

        .logo-container img {
            max-width: 25%; /* Reduced logo size */
            margin: 10px auto;
        }

        .thankyouText h2, .thankyouText1 h2 {
            font-size: 14px;
        }

        .parentrow {
            display: block;
            padding: 0;
        }

        .parentcolumn {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            text-align: center;
            width: 100%;
        }

        .bottomimg img {
            max-width: 50%; /* Reduced image size */
            margin-top: 10px;
        }

        .lang-toggle {
            font-size: 12px;
            padding: 5px;
            position: relative;
            top: 5px;
            right: 5px;
        }

        .thankyouText p, .thankyouText1 p {
            line-height: 1.3; /* Tightened line spacing */
        }

        .bold-hr {
            height: 1px;
            background-color: #5F677C;
            border: none;
            margin: 5px 0;
        }
    }
        

        .nextbtn {
            width: auto;
            height: 35px;
            margin-top: 20px;
            background-color: #fff;
            color: #131217
           
           
        }

        #mark {
            width: 40px;
            height: auto;
            align-items: center;
            box-shadow: 1px;
        }

        #mlogo {
            height: auto;
            width: 200px;
        }
/* 
        hr.spacer {
            border: 0px dashed;
            padding-bottom: 30px;
        } */

        .thankyouText, .thankyouText1 {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 20px;
            /* min-width: 480px; */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            /* border-left: 5px solid #9bd6ee; */
            border:none;
            border-radius: 8px;
        }

        .text2 {
            max-width: 400px;
            text-align: left;
            background-color: #fff;
            font-size: 15px;
            padding-left: 25px;
            min-height: 52px;
            margin-top: -10px;
            border-radius: 8px;
            color: #5F677C;
        }

        #text3 {
            max-width: 450px;
            text-align: left;
            font-size: 15px;
            min-height: 36px;
            padding-left: 25px;
            background-color: #fff;
            margin-top: -10px;
            color: #5F677C;
            ;
        }

        .logo-container img {
            margin-left: 45%;
            max-width: 10%;
            max-height: 10%;
            margin-top: 15%;
        }

        .confermation_text .text1 {
            font-size: 18px;
            justify-content: center;
            text-align: center;
            padding-bottom: 24px;
        }

        .parentcolumn p {
            display: inline-flex;
        }

        h2 {
            text-align: left;
            color:  #131217;
            padding-left: 25px;
            padding-top: -7px;
            padding-bottom: 6px;
        }

        .btn_nxt {
            text-align: center;
            /* margin-top: 20px; */
            margin-bottom: 7px;
        }

        .nextbtn {
        width: auto;
        height: 35px;
        /* background-color: rgb(203, 252, 198); */
        background-color: #CBFCC6;
        color: #131217;
        border: none;
        padding-left: 15px;
        padding-right: 15px;
        border-radius: 8px;
        transition: 0.3s;
        }
        .nextbtn:hover {
            background-color: #45a049;
            color:#fff;

        }

        .bold-hr {
            height: 1.2px;
            background-color: #5F677C;
            border: none;
        }

        .bottomimg {
            display: flex;
            justify-content: center; /* Aligns items horizontally */
            align-items: center; /* Aligns items vertically */
            height: 10vh; /* Adjust height as needed */
        }

        .bottomimg img {
            max-width: 65%; /* Ensures the image doesn't exceed its container */
            max-height: 65%; /* Ensures the image doesn't exceed its container */
        }

        .btn_nxt p {
            padding-top: 24px;
            font-size: 14px;
            margin-bottom: -10px;
        }
        
        .material-symbols-outlined {
        font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' -25,
        'opsz' 24
        }

        .lang-toggle {
	position: absolute;
	top: 10px;
	right: 10px;
	padding: 10px;
	cursor: pointer;
	background-color: #007bff;
	color: white;
	border: none;
	border-radius: 5px;
  }

  @media (max-width: 1000px) and (orientation: landscape) {
    .left {
        display: none;
    }

    .user-details-container {
        margin-left: auto;;
    }
    .bottomimg {
        height: 20vh;

  }
  
  .bottomimg img {
            max-width: 75%; /* Ensures the image doesn't exceed its container */
            max-height: 75%; /* Ensures the image doesn't exceed its container */
        }

  }



    </style>
</head>
<body>


 <div class="parentrow">


   <div class="parentcolumn left">

        <div class="sidebar">
        <hr class="spacer">
        <hr class="spacer">
        </div>
    
    </div>


    <div class="user-details-container">
        <button class="lang-toggle" onclick="toggleLanguage()">العربية</button>
            <div class="logo-container">

                     <img src="<%= basePath %>/assets/images/checkmark.png" alt="Checkmark"> 
                     
                   
            </div>
            <div class="confermation_text">
                <p class="text1" data-en="Successfully Submitted." data-ar="تم التقديم بنجاح">Successfully Submitted.</p>
            </div>
            <div class="thankyouText">
                <h2 data-en="Thank You!" data-ar="شكرًا لك ">Thank You!</h2>
                <p class="text2" data-en="Thank you for taking the time to complete your surveys. Your responses are valuable in helping us provide the best care possible." data-ar="شكرًا لك على تخصيص وقتك لإكمال الاستبيان. ردودك ذات قيمة كبيرة في مساعدتنا على تقديم أفضل رعاية ممكنة.">
                    Thank you for taking the time to complete your surveys. Your responses are valuable in helping us provide the best care possible.
                </p>
            </div>
            <div class="thankyouText1">   
                <h2 data-en="Reminder" data-ar="تذكير">Reminder</h2>
                <p id="text3" data-en="Please remember to visit us for your appointment. We look forward to seeing you." data-ar="يرجى تذكر زيارتنا في موعدك، نتطلع لرؤيتك.">
                    Please remember to visit us for your appointment. We look forward to seeing you.
                </p>
            </div>


            <div class="btn_nxt">
                <p data-en="Login to Securely View Your Results" data-ar="تسجيل الدخول لعرض نتائجك بأمان">Login to Securely View Your Results</p>
                <!-- <button class="nextbtn">  Login to Securely View Your Results</button> -->
                <button class="nextbtn" onclick="window.location.href='<%= basePath %>/check-redirect?hashedMrNo=<%= Mr_no %>&lang=' + (getCookie('lang') || 'en')" data-en="View Results" data-ar="عرض النتائج">View Results</button>


            </div>

            <br>
            <hr class="bold-hr">

            <div class="bottomimg">
                <img src="<%= basePath %>/assets/images/logo.png">
            </div>
        
    </div>

</div>




<script>
    let currentLang = 'en'; // Default language

    // Function to set a cookie
    function setCookie(name, value, days) {
        const date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000)); // Cookie expiration in days
        document.cookie = `${name}=${value}; path=/; expires=${date.toUTCString()}`;
    }

    // Function to get a cookie
    function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
        return null;
    }
    function applyLanguage(lang) {
    // Update the text from data attributes
    document.querySelectorAll('[data-en]').forEach(el => {
        el.innerText = el.getAttribute(`data-${lang}`);
    });

    // For these blocks, switch them to RTL or LTR
    const blocks = document.querySelectorAll('.thankyouText, .thankyouText1');
    blocks.forEach(block => {
        if (lang === 'ar') {
            block.classList.add('rtl-text');
            block.classList.remove('ltr-text');
        } else {
            block.classList.add('ltr-text');
            block.classList.remove('rtl-text');
        }

        // Ensure headers and child elements also follow the direction
        const children = block.querySelectorAll('h2, p');
        children.forEach(child => {
            if (lang === 'ar') {
                child.style.direction = 'rtl';
                child.style.textAlign = 'right';
            } else {
                child.style.direction = 'ltr';
                child.style.textAlign = 'left';
            }
        });
    });

    // Update the button text
    document.querySelector('.lang-toggle').innerText =
        lang === 'en' ? 'العربية' : 'English';
}


    // Read the language preference from the cookie
    document.addEventListener('DOMContentLoaded', function () {
        const langCookie = getCookie('lang');
        if (langCookie) {
            currentLang = langCookie;
        }

        // Update page content based on the language
        document.querySelectorAll('[data-en]').forEach(el => {
            el.innerText = el.getAttribute(`data-${currentLang}`);
        });

        // Update the language toggle button
        document.querySelector('.lang-toggle').innerText = currentLang === 'en' ? 'العربية' : 'English';
        applyLanguage(currentLang);
    });

    // Language toggle function
    function toggleLanguage() {
    currentLang = currentLang === 'en' ? 'ar' : 'en';
    setCookie('lang', currentLang, 30); // Save the preference in a cookie

    // Update text content for all elements
    document.querySelectorAll('[data-en]').forEach(el => {
        el.innerText = el.getAttribute(`data-${currentLang}`);
    });

    // Update the language toggle button text
    document.querySelector('.lang-toggle').innerText = currentLang === 'en' ? 'العربية' : 'English';
    applyLanguage(currentLang);
}

</script>

</body>
</html>